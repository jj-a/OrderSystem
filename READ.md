# READ ME

> 이 프로젝트는 *** 채용 과정에서 과제로 구현한 상품 주문 프로그램입니다.
- Since : `2023.11.14`

### 기술 스택
- `Java 17`
- `Spring Boot 3.2`
- `Spring Data Redis`
- `Spring Data JPA`
- `Embedded Redis`
- `Lombok`
- `JUnit5`

### 설명
과제의 조건 및 요구사항에 따라 상품 주문 프로그램을 구현하였습니다.\
기술 스택은 상품 주문 프로그램을 초기 개발한다고 가정하고 미래의 유지보수 가능성을 고려하여 채택했습니다.\
데이터 관리는 실제 시스템과 유사하게 구현하기 위하여 In-memory DBMS로 `Redis`를 채택했고, 로컬 환경에서 가볍게 구동시키기 위해 `Embedded Redis`를 사용했습니다.

### 패키지 구조
- `com.jxxbom.ordersystem`
  - **`configuration`** : 설정 패키지
    - 데이터 연결과 관련된 설정 클래스로 구성된 패키지입니다.
  - **`menu`** : 메인 도메인
    - Application 실행 후 상품 주문 프로그램의 메인 메뉴를 담당합니다.
  - **`product`** : 상품 도메인
    - 상품 Entity가 정의되어 있으며 각 비즈니스 도메인은 `product`를 참조할 수 있습니다.
  - **`order`** : 주문 도메인
    - '주문' 메뉴에 대한 서비스를 하는 도메인입니다.
    - `product` 도메인을 참조합니다.
  - **`stock`** : 재고 도메인
    - 상품을 추가하는 도메인으로, 이 프로젝트에서는 미리 정의된 데이터를 읽어 저장합니다.
    - `product` 도메인을 참조합니다.
  - **`exception`** : 사용자 정의 오류
    - 사용자 정의 오류가 정의된 패키지입니다.
  - **`util`** : 유틸리티 패키지
    - 사용자 입력에 대한 포맷팅이나 Logger 등 반복적으로 사용하는 유틸리티들이 있는 패키지입니다.

### 프로그램 흐름
1. `HomeworkApplication`이 실행되면서 Embedded Redis 서버를 연결합니다.
2. `Main` 클래스의 `main()`에서 메인 메뉴가 실행됩니다. 명령어를 입력하여 프로그램을 사용할 수 있습니다.
3. **"o"** | **"order"** 입력 시 `order()`에서 `StockService`와 `OrderService`를 순서대로 호출합니다.
1. `StockService`에서 기존에 주어진 data.csv로 상품 데이터를 입력합니다. 상품 Entity는 `Product`입니다.
2. `OrderService`의 `main()`에 진입하면, `showProductList()`로 상품 리스트를 보여주고 `shopping()`에서 사용자로부터 상품번호와 수량을 복수로 입력받습니다. 입력된 상품들은 Map 형태로 `cart` 변수에 저장됩니다.
3. 만약 잘못된 상품번호를 입력한다면 존재하지 않는 상품임을 안내하고 재입력을 요청합니다. (`NoExistException`)
4. 입력 프로세스 중 **공백(" ")** 입력 시 `order()`로 주문 과정이 들어갑니다.
5. `order()`에서 `cart`에 담긴 상품의 재고 여부를 파악합니다.
6.  만약 재고가 부족한 상품이 있다면 `SoldOutException`로 처리하고 재고가 부족함을 안내하며 메인 메뉴(`Main.main()`)로 돌아갑니다.
7.  모든 상품의 재고가 정상적으로 남아있다면 주문을 진행하고 `receipt()`로 주문 내역과 금액을 출력합니다.
8.  주문 금액 50000원 미만 시 배송비 2500원, 50000원 이상 시 배송비 무료입니다.
9.  주문이 완료되면 메인 메뉴(`Main.main()`)로 돌아갑니다.
10. 메인 메뉴에서 **"q"** | **"quit"** 입력 시 `quit()`에서 마무리 메시지와 함께 프로그램이 종료됩니다.